<UserControl x:Class="ConcesionaroCarros.Views.GestionUsuarioView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <UserControl.Resources>

        <Style x:Key="IconButton" TargetType="Button">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Margin" Value="3"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>

    </UserControl.Resources>

    <Grid Margin="30">

        <TabControl>

            <TabItem Header="Usuarios">

                <Grid>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- BOTÓN AGREGAR -->
                    <StackPanel Grid.Row="0"
                Orientation="Horizontal"
                HorizontalAlignment="Right"
                Margin="0,0,0,10">

                        <Button Style="{StaticResource IconButton}"
                Content="➕"
                Command="{Binding AgregarUsuarioCommand}"/>
                    </StackPanel>

                    <!-- TABLA -->
                    <DataGrid Grid.Row="1"
              ItemsSource="{Binding Usuarios}"
              AutoGenerateColumns="False"
              IsReadOnly="True">

                        <DataGrid.Columns>

                            <DataGridTextColumn Header="Nombres" Binding="{Binding Nombres}"/>
                            <DataGridTextColumn Header="Apellidos" Binding="{Binding Apellidos}"/>
                            <DataGridTextColumn Header="Correo" Binding="{Binding Correo}" Width="*"/>
                            <DataGridTextColumn Header="Teléfono" Binding="{Binding Telefono}"/>
                            <DataGridTextColumn Header="Rol" Binding="{Binding Rol}"/>
                            <DataGridTextColumn Header="Fecha Registro" Binding="{Binding FechaRegistro}"/>

                            <DataGridTemplateColumn Header="Acciones">

                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>

                                        <StackPanel Orientation="Horizontal">

                                            <Button Style="{StaticResource IconButton}"
        Content="✏"
        Command="{Binding DataContext.EditarUsuarioCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
        CommandParameter="{Binding}"/>

                                            <Button Style="{StaticResource IconButton}"
        Content="🗑"
        Command="{Binding DataContext.EliminarUsuarioCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
        CommandParameter="{Binding Path=DataContext, RelativeSource={RelativeSource AncestorType=DataGridRow}}"/>

                                        </StackPanel>

                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>

                            </DataGridTemplateColumn>

                        </DataGrid.Columns>

                    </DataGrid>

                </Grid>

            </TabItem>

            <TabItem Header="Clientes">
                <DataGrid ItemsSource="{Binding Clientes}" IsReadOnly="True"/>
            </TabItem>

            <TabItem Header="Empleados">
                <DataGrid ItemsSource="{Binding Empleados}" IsReadOnly="True"/>
            </TabItem>

        </TabControl>

    </Grid>

</UserControl>
